(this["webpackJsonpVirtual-Companion"]=this["webpackJsonpVirtual-Companion"]||[]).push([[0],{112:function(e,t,i){e.exports=i(159)},117:function(e,t,i){},118:function(e,t,i){},159:function(e,t,i){"use strict";i.r(t);var n=i(3),a=i.n(n),s=i(76),o=i.n(s),r=(i(117),i(118),i(0)),c=i(2),l=i(4),h=i(5),u=i(7),d=i(1),p=i(33),f=i(77),v=i.n(f),m=new p.a,g=function(){function e(t){Object(r.a)(this,e),this.loadTerrain(t)}return Object(c.a)(e,[{key:"loadTerrain",value:function(e){var t=this;m.load(v.a,(function(i){t.terrain=i.scene,t.parent=new d.Group,t.parent.add(t.terrain),t.parent.frustumCulled=!1,t.parent.castShadow=!0,t.parent.receiveShadow=!0,t.terrainPosition=t.parent.position,t.terrainRotation=t.parent.rotation,t.terrainScale=t.parent.scale,t.terrainScale.set(50,50,50),e.add(t.parent)}),void 0,(function(e){console.error(e)}))}},{key:"getMesh",value:function(){return this.parent}}]),e}(),y=i(78),b=i.n(y)()(d),S={EnableControls:!1,EnablePan:!0,AutoRotate:!1,RotateSpeed:.1,EnableKeys:!0},k=function(){function e(){Object(r.a)(this,e),this.camera=new d.PerspectiveCamera(60,window.innerWidth/window.innerHeight,.05,2e4),this.camera.position.set(0,125,50),this.camera.lookAt(new d.Vector3(0,0,0)),this.camera.frustumCulled=!0,this.controls=new b(this.camera)}return Object(c.a)(e,[{key:"update",value:function(){this.updateControls()}},{key:"updateControls",value:function(){this.controls.update(),this.controls.enablePan=S.EnablePan,this.controls.autoRotate=S.AutoRotate,this.controls.autoRotateSpeed=S.RotateSpeed,this.controls.enabled=S.EnableControls,this.controls.enableKeys=S.EnableKeys}},{key:"getCamera",value:function(){return this.camera}}]),e}(),w=function e(t){Object(r.a)(this,e);var i=new d.DirectionalLight(16777215);i.intensity=1,i.position.set(0,100,0).normalize(),t.add(i)},P=function(){function e(){Object(r.a)(this,e),this.renderer=new d.WebGLRenderer({antialias:!0}),this.renderer.setClearColor(741907,1),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.outputEncoding=d.sRGBEncoding}return Object(c.a)(e,[{key:"getDomElement",value:function(){return this.renderer.domElement}},{key:"render",value:function(e,t){this.renderer.render(e,t)}}]),e}(),O=function(){function e(t){Object(r.a)(this,e),this.theta_rad=0,this.amp=t.amp,this.isClockwise=t.dir,this.originPos=t.pos,this.moveFactor=t.move,this.targetPos=new d.Vector3(0,0,0)}return Object(c.a)(e,[{key:"updateTheta",value:function(e){this.theta_rad=this.isClockwise?this.theta_rad+this.moveFactor:this.theta_rad-this.moveFactor,this.theta_rad=this.theta_rad>=e?0:this.theta_rad}},{key:"cartesianX",value:function(e){return this.originPos.x+e*Math.cos(this.theta_rad)}},{key:"cartesianZ",value:function(e){return this.originPos.z+e*Math.sin(this.theta_rad)}},{key:"cartesianY",value:function(e){return this.originPos.y+this.amp*Math.sin(this.theta_rad)}},{key:"getTargetPos",value:function(){return this.targetPos}},{key:"syncPatternObj",value:function(){}}]),e}(),x=function(e){Object(l.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(r.a)(this,i),(n=t.call(this,e)).radX=e.radx,n.radZ=e.radz,n.maxTheta=2*Math.PI,n}return Object(c.a)(i,[{key:"update",value:function(){var e=this.cartesianX(this.radX),t=this.cartesianZ(this.radZ),i=this.cartesianY();this.targetPos.set(e,i,t),this.updateTheta(this.maxTheta)}},{key:"setGuiParams",value:function(e){this.originPos.set(e.originPosX,e.originPosY,e.originPosZ),this.radX=e.radiusX,this.radZ=e.radiusZ,this.amp=e.amplitude,this.moveFactor=d.Math.degToRad(e.speed),this.isClockwise=e.isClockwise}}]),i}(O),j=i(6),E=i(111),R=function(){function e(t,i){Object(r.a)(this,e);var n=new j.c(0,0,0),a=new j.c(0,0,0);n.x=t.x-i,n.y=t.y-i,n.z=t.z-i,a.x=t.x+i,a.y=t.y+i,a.z=t.z+i,this.tree=new E.a(n,a,0,2)}return Object(c.a)(e,[{key:"insertPoint",value:function(e,t){this.tree.insert(e,t)}},{key:"scanForPoints",value:function(e,t){return this.tree.findPoints(e,t,!0)}},{key:"pointCount",value:function(){return this.tree.pointCount}}]),e}(),C=function(){function e(){Object(r.a)(this,e),this.flockOctree={}}return Object(c.a)(e,[{key:"update",value:function(e,t){this.setupOctree(e,t)}},{key:"setupOctree",value:function(e,t){var i=this;this.flockOctree=new R(e,20),t.forEach((function(e){i.flockOctree.insertPoint(e.position,e)}))}},{key:"getNeighbours",value:function(e){var t=[];return this.flockOctree.scanForPoints(e,5).forEach((function(e){var i=e.data;t.push(i)})),t}}]),e}(),F=function(e,t,i,n,a){var s=Math.sqrt(e*e+t*t+i*i);e/=s,t/=s,i/=s;var o=Math.cos(n/2),r=Math.sin(n/2);a.set(e*r,t*r,i*r,o)},M={MaxForce:.01,SmoothFactor:.01,SeperationForce:1.2,CohesionForce:.5,AlignmentForce:.2},T=function(){function e(){Object(r.a)(this,e),this.position=new d.Vector3(20*Math.random(),2,0),this.velocity=new d.Vector3(.1,.1,.1),this.acceleration=new d.Vector3(0,0,0),this.rotationA=new d.Quaternion,this.rotationB=new d.Quaternion,this.fSteer=new d.Vector3(0,0,0),this.vDesired=new d.Vector3(0,0,0),this.sumVec=new d.Vector3(0,0,0),this.diffVec=new d.Vector3(0,0,0),this.maxSpeed=this.getRandomArbitrary(.015,.05),this.maxSlowDownSpeed=0,this.slowDownTolerance=.2*.2,this.arriveTolerance=1e-4,this.target=new d.Vector3(0,0,0)}return Object(c.a)(e,[{key:"updateAgent",value:function(e){this.seekTarget(),this.flock(e),this.updatePosition()}},{key:"seekTarget",value:function(){this.seek(),this.applyForce()}},{key:"flock",value:function(e){e.length>0&&(this.seperation(e),this.applyForce(),this.cohesion(e),this.applyForce(),this.align(e),this.applyForce())}},{key:"updatePosition",value:function(){this.sumVec.addVectors(this.velocity,this.acceleration),this.velocity=this.velocity.lerp(this.sumVec,M.SmoothFactor),this.velocity.clampLength(-9999,this.maxSpeed),this.position.add(this.velocity),this.acceleration.multiplyScalar(0)}},{key:"applyForce",value:function(){this.acceleration.add(this.fSteer)}},{key:"seek",value:function(){this.vDesired.subVectors(this.target,this.position),this.vDesired.normalize();var e,t,i,n,a,s=this.vDesired.lengthSq();if(s<this.slowDownTolerance&&s>this.arriveTolerance){var o=(e=s,t=this.slowDownTolerance,i=this.arriveTolerance,n=this.maxSpeed,a=this.maxSlowDownSpeed,n+(a-n)*(e-t)/(i-t));this.vDesired.multiplyScalar(o)}else this.vDesired.multiplyScalar(this.maxSpeed);this.fSteer.subVectors(this.vDesired,this.velocity),this.fSteer.clampLength(-99999,M.MaxForce)}},{key:"seperation",value:function(e){var t=this;this.fSteer.set(0,0,0),this.sumVec.set(0,0,0),e.length>0&&(e.forEach((function(e){t.diffVec.subVectors(t.position,e.position),t.diffVec.normalize(),t.diffVec.divideScalar(t.diffVec.length()),t.sumVec.add(t.diffVec)})),this.sumVec.divideScalar(e.length),this.sumVec.lengthSq()>0&&(this.sumVec.normalize(),this.sumVec.clampLength(-99999,this.maxSpeed),this.fSteer.subVectors(this.sumVec,this.velocity),this.fSteer.clampLength(-99999,M.MaxForce),this.fSteer.multiplyScalar(M.SeperationForce)))}},{key:"cohesion",value:function(e){var t=this;this.target.set(0,0,0),this.fSteer.set(0,0,0),e.length>0&&(e.forEach((function(e){t.target.add(e.position)})),this.target.divideScalar(e.length),this.seek(),this.fSteer.multiplyScalar(M.CohesionForce))}},{key:"align",value:function(e){var t=this;this.fSteer.set(0,0,0),e.length>0&&(e.forEach((function(e){t.fSteer.add(e.velocity)})),this.fSteer.divideScalar(e.length),this.fSteer.normalize(),this.fSteer.multiplyScalar(this.maxSpeed),this.fSteer.sub(this.velocity),this.fSteer.clampLength(-99999,M.MaxForce),this.fSteer.multiplyScalar(M.AlignmentForce))}},{key:"setTarget",value:function(e){this.target.copy(e)}},{key:"getRandomArbitrary",value:function(e,t){return Math.random()*(t-e)+e}}]),e}(),V=i(79),I=i.n(V),A=new p.a,D=function(e){Object(l.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(r.a)(this,i),(n=t.call(this)).loadPigeon(e),n}return Object(c.a)(i,[{key:"loadPigeon",value:function(e){var t=this;A.load(I.a,(function(i){t.pigeon=i.scene,t.parent=new d.Group,t.parent.add(t.pigeon),t.parent.frustumCulled=!1,t.parent.castShadow=!0,t.parent.receiveShadow=!0,t.agentPosition=t.parent.position,t.agentRotation=t.parent.rotation,t.agentScale=t.parent.scale,t.agentAnimations=i.animations,t.agentScale.set(.5,.5,.5),t.animationMixer=new d.AnimationMixer(t.parent),t.animationMixer.clipAction(t.agentAnimations[0]).play(),e.add(t.parent)}),void 0,(function(e){console.error(e)}))}},{key:"update",value:function(e,t){this.animationMixer&&(this.animationMixer.update(e),this.updateAgent(t),this.syncPosition(),this.syncRotation())}},{key:"syncPosition",value:function(){this.parent.position.copy(this.position)}},{key:"syncRotation",value:function(){var e,t,i;i=this.velocity,e=Math.atan2(i.x,i.z),t=function(e){return Math.acos(e.y/e.length())}(this.velocity),F(0,1,0,e,this.rotationA),F(0,0,1,t-Math.PI/2,this.rotationB),this.rotationA.multiply(this.rotationB),this.parent.setRotationFromQuaternion(this.rotationA)}}]),i}(T),L=function(){function e(t){Object(r.a)(this,e);var i=new d.SphereGeometry(.2,15,15),n=new d.MeshLambertMaterial({color:new d.Color(1,0,0),wireframe:!1});this.mesh=new d.Mesh(i,n),t.add(this.mesh)}return Object(c.a)(e,[{key:"getVector",value:function(){return this.mesh.position}},{key:"setVector",value:function(e){this.mesh.position.copy(e)}},{key:"setVisibility",value:function(e){this.mesh.visible=e}}]),e}(),z={ShowTarget:!0},G=function(){function e(t){Object(r.a)(this,e),this.octreeManager=new C,this.pigeons=[],this.clock=new d.Clock,this.setupTargetPattern()}return Object(c.a)(e,[{key:"setup",value:function(e){for(var t=0;t<50;t++){var i=new D(e);this.pigeons.push(i)}this.target=new L(e)}},{key:"setupTargetPattern",value:function(){var e=function(e,t,i,n,a,s){return{pos:e,radx:t,radz:i,amp:n,dir:a,move:s}}(new d.Vector3(0,6,0),10,10,0,!0,d.Math.degToRad(.3));this.ellipsePattern=new x(e)}},{key:"update",value:function(){var e=this;if(this.pigeons.length>0){this.ellipsePattern.update();var t=this.ellipsePattern.getTargetPos(),i=this.clock.getDelta();this.octreeManager.update(t,this.pigeons);var n=[];this.pigeons.forEach((function(a){a.setTarget(t),n=e.octreeManager.getNeighbours(a.position),a.update(i,n)})),this.target.setVector(t),this.target.setVisibility(z.ShowTarget)}}}]),e}(),N=i(80),B=i(81),_=i(43),W=i.n(_),H=i(82),J=i.n(H),X=new(function(){function e(){Object(r.a)(this,e),this.siteURL="https://befantastic-martha.herokuapp.com/app",this.socket=J()(this.siteURL,{reconnection:!0,reconnectionDelay:500,reconnectionAttempts:1/0}),this.socket.once("connect",this.subscribe.bind(this)),this.handlePresetsCbk=""}return Object(c.a)(e,[{key:"subscribe",value:function(){console.log("Connected"),this.socket.on("time",this.logTime.bind(this)),this.socket.on("receivePresets",this.handlePresets.bind(this))}},{key:"handlePresets",value:function(e){this.handlePresetsCbk(e)}},{key:"saveGuiPreset",value:function(e,t){var i={name:e,data:t};this.socket.emit("savePreset",i)}},{key:"readAllPresets",value:function(e){this.socket.emit("getPresets"),this.handlePresetsCbk=e}},{key:"deletePreset",value:function(e){this.socket.emit("deletePreset",e)}},{key:"disconnect",value:function(){console.log("Socket Server Disconnected.")}},{key:"logTime",value:function(e){}}]),e}()),Z={Preset:"Global",Presets:""},K=function(){function e(t){Object(r.a)(this,e),this.gui=new N.Pane({title:"Pigeon GUI",container:t,expanded:!1}),this.gui.registerPlugin(B),this.gui.addInput(Z,"Preset"),this.presetOptions=[],this.buildPresets(),this.fpsGraph=this.gui.addBlade({view:"fpsgraph",label:"FPS",lineCount:2});var i=this.gui.addFolder({title:"Orbit Controls",expanded:!0});i.addInput(S,"EnableControls",{label:"Enable Controls"}),i.addInput(S,"EnablePan",{label:"Enable Panning"}),i.addInput(S,"AutoRotate",{label:"Enable AutoRotate"}),i.addInput(S,"RotateSpeed",{label:"Rotation Speed",min:.1,max:1}),i.addInput(S,"EnableKeys",{label:"Enable Keys"}),this.gui.addFolder({title:"Target Params",expanded:!0}).addInput(z,"ShowTarget",{label:"Show Target"});var n=this.gui.addFolder({title:"Agent Params",expanded:!0});n.addInput(M,"MaxForce",{label:"Max Force",min:.005,max:2,step:.005}),n.addInput(M,"SmoothFactor",{label:"Smooth Factor",min:.005,max:.1,step:.005}),n.addInput(M,"SeperationForce",{label:"Seperation Force",min:.5,max:2,step:.1}),n.addInput(M,"CohesionForce",{label:"Cohesion Force",min:.1,max:2,step:.1}),n.addInput(M,"AlignmentForce",{label:"Alignment Force",min:0,max:2,step:.1}),this.gui.addButton({title:"Save Preset"}).on("click",this.onSavePreset.bind(this)),this.gui.addButton({title:"Delete Preset"}).on("click",this.onDeletePreset.bind(this)),this.gui.addButton({title:"Show Panel"}).on("click",this.onShowPanel.bind(this)),X.readAllPresets(this.onReceivePresets.bind(this))}return Object(c.a)(e,[{key:"onPresetSelected",value:function(e){var t=JSON.parse(e.value);this.gui.importPreset(t)}},{key:"onReceivePresets",value:function(e){var t=this;if(console.log("All the presets received:"),console.log(e),e.length>0){e.forEach((function(e){var i=e.name,n=e.config;t.presetOptions.push({text:i,value:JSON.stringify(n)})}));var i=e[0].config;this.gui.importPreset(i),this.disposePresets(),this.buildPresets()}}},{key:"onSavePreset",value:function(){var e=Z.Preset;if(e.length>0){this.disposePresets();var t=this.gui.exportPreset(),i=W.a.find(this.presetOptions,(function(t){return t.text===e}));i?(console.log("Preset Exists. Updating database and local copy of the preset."),i.value=JSON.stringify(t),this.presetOptions=W.a.sortBy(this.presetOptions,(function(t){return t.text===e?0:1}))):(console.log("Preset doesnt exist. New entry in the database."),this.presetOptions.unshift({text:e,value:JSON.stringify(t)})),X.saveGuiPreset(e,t),this.buildPresets()}else alert("Not an empty entry please.")}},{key:"onDeletePreset",value:function(){if(this.presetOptions.length>0){var e=Z.Preset;if(console.log("Deleting preset: "+e),W.a.remove(this.presetOptions,(function(t){return t.text===e})),X.deletePreset(e),this.disposePresets(),this.buildPresets(),this.presetOptions.length>0){var t=this.presetOptions[0].value;this.gui.importPreset(JSON.parse(t))}}}},{key:"disposePresets",value:function(){Z.Presets="",this.presetList.dispose()}},{key:"buildPresets",value:function(){this.presetList=this.gui.addInput(Z,"Presets",{index:1,options:this.presetOptions}),this.presetList.on("change",this.onPresetSelected.bind(this))}},{key:"subscribeShowPanel",value:function(e){this.onShowPanel=e}},{key:"onShowPanel",value:function(){this.onShowPanel()}}]),e}(),U={container:{position:"absolute",top:"150px",right:"20px"}},q=function(e){Object(l.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(r.a)(this,i),(n=t.call(this,e)).state={},n.guiRef=a.a.createRef(),n}return Object(c.a)(i,[{key:"render",value:function(){return a.a.createElement("div",{ref:this.guiRef,style:U.container})}},{key:"componentDidMount",value:function(){var e=this.guiRef.current;this.gui=new K(e),this.gui.subscribeShowPanel(this.onShowPanel.bind(this))}},{key:"getFpsGraph",value:function(){return this.gui.fpsGraph}},{key:"onShowPanel",value:function(){this.props.onShowInfoPanel()}}]),i}(a.a.Component),Q=Object(u.a)(q),Y="#ffffff",$="#E7EFE0",ee="24px",te="44px",ie="28px",ne="36px",ae="d-dinregular",se="warsaw_gothic",oe={container:{position:"absolute",top:"0%",width:"100vw",height:"100vh",backgroundColor:"rgb(0, 0, 0, 0.4)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:0},hide:{visibility:"hidden"},title:{fontFamily:se,fontSize:"52px",letterSpacing:5,opacity:1,color:Y},loading:{fontFamily:ae,fontSize:ee,color:Y},button:{fontFamily:ae,color:Y,fontSize:ee,borderStyle:"solid",borderWidth:"2px",padding:"8px",paddingLeft:ie,paddingRight:ie,cursor:"default"}},re=function(e){Object(l.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(r.a)(this,i),(n=t.call(this,e)).state={isHidden:!1,isLoading:!1},n}return Object(c.a)(i,[{key:"render",value:function(){var e=this.state.isHidden?[oe.container,oe.hide]:oe.container,t=this.state.isLoading?this.getLoader():this.getTitle();return a.a.createElement("div",{style:e},t)}},{key:"getLoader",value:function(){return a.a.createElement("div",{style:oe.loading},"Loading ...")}},{key:"getTitle",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{style:oe.title},"MARTHA.I"),a.a.createElement("div",{onClick:this.onEnter.bind(this),style:oe.button},"ENTER"))}},{key:"onEnter",value:function(){this.setState({isLoading:!0}),this.props.onEnterWorld(),setTimeout(this.hasFinishedLoading.bind(this),3e3)}},{key:"hasFinishedLoading",value:function(){this.setState({isHidden:!0}),this.props.onLoadComplete()}}]),i}(a.a.Component),ce=Object(u.a)(re),le={floatIn:u.a.keyframes({"0%":{top:"-100px"},"50%":{top:"-50px"},"100%":{top:"0px"}}),floatOut:u.a.keyframes({"0%":{top:"0"},"50%":{top:"-50px"},"100%":{top:"-100px"}})},he={container:{position:"absolute",width:"100%",top:"-100px"},content:{display:"flex",flexDirection:"row",justifyContent:"space-between",padding:ne,alignSelf:"center"},animateIn:{animation:"x 2s linear 1 forwards",animationName:le.floatIn},animateOut:{animation:"x 2s linear 1 forwards",animationName:le.floatOut},title:{fontFamily:se,fontSize:te,letterSpacing:5,opacity:1,color:Y,cursor:"default"},about:{fontFamily:ae,color:Y,fontSize:te,cursor:"default"}},ue=0,de=1,pe=2,fe=function(e){Object(l.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(r.a)(this,i),(n=t.call(this,e)).state={aniState:ue},n}return Object(c.a)(i,[{key:"render",value:function(){var e=this.state.aniState===de?[he.container,he.animateIn]:this.state.aniState===pe?[he.container,he.animateOut]:he.container;return a.a.createElement("div",{style:e},a.a.createElement("div",{style:he.content},a.a.createElement("div",{style:he.title},"MARTHA.I"),a.a.createElement("div",{style:he.title},"ABOUT")))}},{key:"updateTitle",value:function(){this.state.aniState===ue?this.setState({aniState:de}):this.state.aniState===de?this.setState({aniState:pe}):this.state.aniState===pe&&this.setState({aniState:de})}}]),i}(a.a.Component),ve=Object(u.a)(fe),me={slideIn:u.a.keyframes({"0%":{left:"-500px"},"50%":{left:"-250px"},"100%":{left:"0px"}}),slideOut:u.a.keyframes({"0%":{left:"0px"},"50%":{left:"-250px"},"100%":{left:"-500px"}})},ge={container:{position:"absolute",top:"0%",width:"500px",height:"100%",left:"-500px",backgroundColor:$},content:{display:"flex",flexDirection:"row",justifyContent:"space-between",padding:ne,alignSelf:"center"},animateIn:{animation:"x 2s linear 1 forwards",animationName:me.slideIn},animateOut:{animation:"x 2s linear 1 forwards",animationName:me.slideOut},title:{fontFamily:se,fontSize:te,letterSpacing:5,opacity:1,color:Y,cursor:"default"},about:{fontFamily:ae,color:Y,fontSize:te,cursor:"default"}},ye=0,be=1,Se=2,ke=function(e){Object(l.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(r.a)(this,i),(n=t.call(this,e)).state={aniState:ye},n}return Object(c.a)(i,[{key:"render",value:function(){var e=this.state.aniState===be?[ge.container,ge.animateIn]:this.state.aniState===Se?[ge.container,ge.animateOut]:ge.container;return a.a.createElement("div",{style:e},a.a.createElement("div",{style:ge.content}))}},{key:"updatePanel",value:function(){this.state.aniState===ye?this.setState({aniState:be}):this.state.aniState===be?this.setState({aniState:Se}):this.state.aniState===Se&&this.setState({aniState:be})}}]),i}(a.a.Component),we=Object(u.a)(ke),Pe={container:{width:"100vw",height:"100vh",overflow:"hidden"}},Oe=function(e){Object(l.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(r.a)(this,i),(n=t.call(this,e)).state={},n.worldRef=a.a.createRef(),n.guiRef=a.a.createRef(),n.titleRef=a.a.createRef(),n.panelRef=a.a.createRef(),n.scene=new d.Scene,n.cameraControl=new k,n.lightingManager=new w(n.scene),n.pigeonManager=new G,n.rendererManager=new P,n}return Object(c.a)(i,[{key:"componentDidMount",value:function(){var e=this.rendererManager.getDomElement();this.worldRef.current.appendChild(e),this.fpsGraph=this.guiRef.current.getFpsGraph(),this.terrain=new g(this.scene),this.initializeRender()}},{key:"render",value:function(){return a.a.createElement("div",{style:Pe.container,ref:this.worldRef},a.a.createElement(Q,{ref:this.guiRef,onShowInfoPanel:this.onShowInfoPanel.bind(this)}),a.a.createElement(ce,{onEnterWorld:this.onEnterWorld.bind(this),onLoadComplete:this.onLoadComplete.bind(this)}),a.a.createElement(ve,{ref:this.titleRef}),a.a.createElement(we,{ref:this.panelRef}))}},{key:"initializeRender",value:function(){this.fpsGraph.begin(),this.pigeonManager.update(),this.cameraControl.update(),this.rendererManager.render(this.scene,this.cameraControl.getCamera()),this.fpsGraph.end(),requestAnimationFrame(this.initializeRender.bind(this))}},{key:"onEnterWorld",value:function(){this.pigeonManager.setup(this.scene)}},{key:"onLoadComplete",value:function(){this.titleRef.current.updateTitle()}},{key:"onShowInfoPanel",value:function(){this.panelRef.current.updatePanel(),this.titleRef.current.updateTitle()}}]),i}(a.a.Component),xe=Object(u.a)(Oe),je=function(e){Object(l.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(r.a)(this,i),(n=t.call(this,e)).state={},n.worldRef=a.a.createRef(),n}return Object(c.a)(i,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(xe,{ref:this.worldRef}))}}]),i}(a.a.Component),Ee=Object(u.a)(je),Re=i(53);o.a.render(a.a.createElement(Re.a,null,a.a.createElement(Ee,null)),document.getElementById("root"))},77:function(e,t,i){e.exports=i.p+"static/media/world.9a0ad0bd.glb"},79:function(e,t,i){e.exports=i.p+"static/media/Bird_simple.d1d4aa0b.glb"}},[[112,1,2]]]);
//# sourceMappingURL=main.e2718c9c.chunk.js.map